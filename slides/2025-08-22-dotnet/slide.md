---
marp: true
theme: standard
size: 16:9
paginate: true
---

<!-- _class: cover -->

# WindowsCEから Androidへの移行の注意点

## 組み込みシステム開発の現実と対策

### 発表者: 梶原 睦
#### 日付: 2025-08-22

<!-- 
- 導入の挨拶と自己紹介
- Windows CEは長らく産業用途で使われてきた
- しかし、サポート終了に伴い移行が急務
- 時間配分: 30秒
-->

---

<!-- _class: section-title -->

# アジェンダ

---

## 今日のアジェンダ

1. **Windows CEの現状**
2. **Android移行のメリット**
3. **技術的課題と対策**
4. **開発環境の違い**
5. **セキュリティ考慮事項**
6. **移行戦略とロードマップ**

<!-- 
- 10分間で6つのポイントを解説
- 各セクション1-2分程度
- 質疑応答は最後に
- 時間配分: 30秒
-->

---

<!-- _class: section-title -->

# Windows CEの現状

---

## Windows CEの終焉

- **2023年1月**: 延長サポート終了
- **セキュリティ更新**: なし
- **新規開発**: 不可
- **既存システム**: リスク増大

**→ 移行は必須、時間的猶予なし**

<!-- 
- Windows CE 2013が最後のバージョン
- マイクロソフトの公式サポート完全終了
- 産業用組み込みシステムでの利用継続はリスク
- 時間配分: 1分
-->

---

## Windows CEが使われていた分野

<div class="two-columns">

### 産業機器
- POS端末
- 医療機器
- 計測機器
- 制御システム

### 組み込みデバイス
- ハンディターミナル
- カーナビゲーション
- デジタルサイネージ
- 専用端末

</div>

<!-- 
- 幅広い分野で利用されてきた
- それぞれに特有の要件がある
- 一律の移行戦略では対応できない
- 時間配分: 1分
-->

---

<!-- _class: section-title -->

# Android移行のメリット

---

## Androidを選ぶ理由

**✓ 継続的なサポート**
- Googleによる定期更新
- セキュリティパッチの提供

**✓ 豊富な開発リソース**
- 大きな開発者コミュニティ
- 充実したドキュメント

**✓ ハードウェア選択肢**
- 多様なSOCサポート
- コスト最適化が容易

<!-- 
- Linux基盤で安定性が高い
- オープンソースで自由度が高い
- 産業用Android distributions も利用可能
- 時間配分: 1分
-->

---

<!-- _class: metric-card -->

## 移行による改善効果

**セキュリティ**: 月次パッチ適用可能
**開発効率**: +40%向上
**保守コスト**: -30%削減
**ハードウェアコスト**: -20%削減

**デバイス選択肢**
- 現在: 限定的
- 移行後: 多様な選択肢

<!-- 
- 具体的な数値は過去のプロジェクト実績から
- セキュリティは最重要ポイント
- 開発効率はツールチェーンの改善による
- 時間配分: 1分
-->

---

<!-- _class: section-title -->

# 技術的課題と対策

---

## 主要な技術的課題

**1. アーキテクチャの違い**
- Windows CE: Win32 API
- Android: Linuxベース、Java/Kotlin

**2. リアルタイム性**
- Windows CEはリアルタイムOS
- Androidは汎用OS

**3. ハードウェアアクセス**
- 直接的なレジスタ操作
- デバイスドライバーの再実装

<!-- 
- 根本的なアーキテクチャが異なる
- 既存コードの大部分は書き直しが必要
- 特にリアルタイム性が求められる用途は注意
- 時間配分: 1.5分
-->

---

## 対策1: アプリケーション層の設計

<div class="two-columns">

### Windows CE
```cpp
// Win32 API直接呼び出し
HANDLE hDevice = CreateFile(...);
DeviceIoControl(hDevice, ...);
```

### Android
```java
// HAL層経由でアクセス
HardwareManager hw = 
  getSystemService(HARDWARE_SERVICE);
hw.controlDevice(...);
```

</div>

**→ 抽象化レイヤーの導入が重要**

<!-- 
- 直接的なハードウェアアクセスはできない
- Android HAL（Hardware Abstraction Layer）を利用
- 移行時は抽象化設計が成功の鍵
- 時間配分: 1分
-->

---

## 対策2: リアルタイム性の確保

**課題**: AndroidはリアルタイムOSではない

**解決策**:
- **RTLinuxパッチ**: 適用可能
- **専用RTスレッド**: 高優先度で動作
- **ハードウェア処理**: 専用MCUとの分離

**妥協点**: ソフトリアルタイム（ms単位）

<!-- 
- 厳密なリアルタイム性が必要な場合は設計変更必要
- ハイブリッド構成（Android + 専用MCU）も検討
- 要件の見直しが必要な場合もある
- 時間配分: 1分
-->

---

<!-- _class: section-title -->

# 開発環境の違い

---

<!-- _class: comparison-matrix -->

## 開発環境比較

| 項目 | Windows CE | Android |
|------|------------|---------|
| IDE | Visual Studio | Android Studio |
| 言語 | C/C++ | Java/Kotlin/NDK |
| デバッグ | 限定的 | 豊富なツール |
| エミュレータ | 基本的 | 高機能 |
| CI/CD | 手動中心 | 自動化対応 |

<!-- 
- 開発環境は大幅に改善される
- ツールチェーンの充実度が違う
- 学習コストはあるが長期的にメリット大
- 時間配分: 1分
-->

---

## 開発チームの準備

**必要なスキル習得**:
- Java/Kotlinプログラミング
- Androidアプリケーション開発
- Linux システム管理

**推奨研修期間**: 2-3ヶ月

**段階的移行**: 小規模プロジェクトから開始

<!-- 
- 既存の組み込み開発経験は活かせる
- Androidspecificな知識が必要
- OJTと研修の組み合わせが効果的
- 時間配分: 1分
-->

---

<!-- _class: section-title -->

# セキュリティ考慮事項

---

## セキュリティ強化ポイント

**1. 定期アップデート体制**
- 月次セキュリティパッチ適用
- 自動更新メカニズム

**2. アプリ署名とPermission**
- 適切な権限設定
- 不要な機能の無効化

**3. ネットワークセキュリティ**
- TLS通信の実装
- VPN対応

<!-- 
- Windows CEのセキュリティホール解消
- Android標準のセキュリティ機能活用
- 組み込み用途向けのセキュリティ強化
- 時間配分: 1分
-->

---

## 産業用Android向け設定

**Kiosk Mode**: アプリ以外の操作を制限
**Device Owner**: 管理者権限でのロックダウン
**Custom ROM**: 不要機能を削除
**セキュアブート**: 改ざん防止

**→ コンシューマー向けとは異なる設定**

<!-- 
- 産業用途では一般的なAndroidとは設定が異なる
- セキュリティと使いやすさのバランス
- 要件に応じたカスタマイズが必要
- 時間配分: 1分
-->

---

<!-- _class: section-title -->

# 移行戦略とロードマップ

---

## 段階的移行アプローチ

**Phase 1**: パイロットプロジェクト
- 小規模・低リスクな案件で検証
- 期間: 2-3ヶ月

**Phase 2**: 本格移行開始
- 既存システムの順次移行
- 期間: 6-12ヶ月

**Phase 3**: 完全移行完了
- 全システムのAndroid化
- 期間: 12-24ヶ月

<!-- 
- 一気に移行するのはリスクが高い
- 段階的なアプローチで知見を蓄積
- 各フェーズでの学習を次に活かす
- 時間配分: 1分
-->

---

## 成功要因と注意点

**成功要因**:
✓ 経営層のコミット
✓ 十分な予算と期間
✓ 段階的な移行計画
✓ チームのスキル向上

**注意点**:
⚠️ 要件の見直し必須
⚠️ テスト期間の確保
⚠️ 既存資産の活用限界
⚠️ 顧客への影響考慮

<!-- 
- 技術だけでなく組織的な取り組みが重要
- 失敗例の多くは計画不足が原因
- リスクを事前に識別して対策を準備
- 時間配分: 1分
-->

---

<!-- _class: section-title -->

# まとめ

---

## Windows CE → Android移行のポイント

**1. 必然性**: サポート終了により移行は必須
**2. 複雑性**: 技術的課題は大きいが解決可能
**3. 計画性**: 段階的アプローチが成功の鍵
**4. 投資性**: 長期的なメリットは大きい

**今すぐ始めるべき行動**
- 移行計画の策定
- チームのスキルアップ
- パイロットプロジェクトの開始

<!-- 
- Windows CEからの移行は避けられない
- 適切な計画と実行で成功できる
- 早期着手が重要
- 時間配分: 1分
-->

---

<!-- _class: cover -->

# ご質問・ご相談

## ありがとうございました

### 梶原 睦
#### 2025-08-22

**お気軽にご質問ください**

<!-- 
- 質疑応答の時間
- 具体的な技術相談も歓迎
- 移行プロジェクトの支援も可能
- 時間配分: 残り時間すべて
-->